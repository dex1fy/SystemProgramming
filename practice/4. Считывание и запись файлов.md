### Программа для считывания и записи строкового значения из текстового файла с последующей записью его в другой текстовый файл. Для работы с файлами используются функции WinAPI.

Шаг 1. Напишем следующий файл main.c консольного проекта. (Используем функции WINAP)

``` C
#include <Windows.h>
#include <stdio.h>
#include <stdlib.h>
#include <malloc.h>

// функция для чтения из файла
char* readFile(HANDLE hFile) {
	DWORD count = 0; 
	char* buffer = calloc(100, sizeof(char));
	int read = ReadFile(hFile, buffer, 100, &count, 0);

	buffer = realloc(buffer, count * sizeof(char));
	buffer[count] = '\0';
	return buffer;
}

// функция для записи в файл 
int writeFile(char* buffer) {
	HANDLE hFile = CreateFileA("answer.txt", GENERIC_WRITE, 0, 0, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, 0);
	int isWrite = WriteFile(hFile, buffer, strlen(buffer), 0, 0);

	if (isWrite == 0) return 1; // ошибка записи
	else return 0;
}

// точка входа
int main() {
	system("chcp 1251");
	if (GetFileAttributesA("file.txt") == INVALID_FILE_ATTRIBUTES) {
		printf("Файла не существует\n");
		return 0;
	}

	HANDLE hFile = CreateFileA("file.txt", GENERIC_READ, 0, 0, OPEN_ALWAYS, FILE_ATTRIBUTE_NORMAL, 0);

	char* buffer = readFile(hFile);
	if (buffer == NULL) {
		printf("Файл пустой или ошибка чтения\n");
		return 0;
	}

	printf("%s\n", buffer);
	writeFile(buffer);
	return 0;
}
```

Шаг 2. Создадим тестовый файл с названием file.txt в проекте, рядом с файлом main.c и напишем в него что-то. 

Шаг 3. После запуска в этой же папке появится файл answer.txt с текстом "hello"