## Создание и отладка библиотеки DLL. Для демонстрации работы написать две элементарные функции в библиотеке и вызвать их из основной программы

Шаг 1. Код в файле main.c (консольное приложение)

``` C

#include <Windows.h>
#include <stdio.h>
#define PATH L"DllProject.dll" // путь к DLL

typedef int(*Fun)(int, int); // Объявление типа указателя на функцию

// main функция 
int main() {
	HINSTANCE dll; // дескриптор загруженной DLL

	if ((dll = LoadLibrary(PATH)) == NULL) return 1; // проверка 

	// Получение адресов функций из DLL
	Fun Sum = GetProcAddress(dll, "Sum");
	Fun Diff = GetProcAddress(dll, "Diff");

	// вызов функций в консоль
	printf("%d\n", Sum(2, 1));
	printf("%d\n", Diff(2, 1));

	// очистка дескриптора 
	FreeLibrary(dll); 

	return 0;
}
```

Шаг 2. Код в файле DllCode.c в проекте одного решения DllProject.  
``` C

#include <Windows.h>

// точка входа в DLL
BOOL WINAPI DllMain() {
	return TRUE;
}

// пометка функций на экспорт
__declspec(dllexport) int Sum(int a, int b);

// функция для экспорта
int Sum(int a, int b){
	return a + b;
}

__declspec(dllexport) int Diff(int a, int b);

int Diff(int a, int b) {
	return a - b;
}

```

Шаг 3. Укажем проекту с dll то, что он должен компилировать под dll. 

**Свойства -> общие -> тип конфигурации**

Шаг 4. Скомпилируем dll и запустим главный проект.<br>
**Отладка -> запустить**